<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Téléchargement — CV Viktor Morel</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --primary: #6366f1;
      --primary-light: #818cf8;
      --primary-dark: #4f46e5;
      --accent: #22d3ee;
      --accent-pink: #f472b6;
      --accent-green: #10b981;
      --accent-orange: #f59e0b;
      --bg-dark: #030712;
      --bg-card: rgba(15, 23, 42, 0.6);
      --text: #f8fafc;
      --text-muted: #94a3b8;
      --glass-border: rgba(255, 255, 255, 0.08);
      --glow-primary: rgba(99, 102, 241, 0.4);
      --glow-accent: rgba(34, 211, 238, 0.3);
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-dark);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
      visibility: hidden;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    /* ===== ANIMATED MESH GRADIENT BACKGROUND ===== */
    .mesh-gradient {
      position: fixed;
      inset: 0;
      background:
        radial-gradient(ellipse 80% 50% at 20% 40%, rgba(99, 102, 241, 0.15), transparent 50%),
        radial-gradient(ellipse 60% 50% at 80% 20%, rgba(34, 211, 238, 0.12), transparent 50%),
        radial-gradient(ellipse 50% 40% at 50% 80%, rgba(244, 114, 182, 0.1), transparent 50%),
        radial-gradient(ellipse 40% 30% at 90% 70%, rgba(16, 185, 129, 0.08), transparent 50%);
      animation: meshMove 15s ease-in-out infinite alternate;
      z-index: 0;
    }

    @keyframes meshMove {
      0% { filter: hue-rotate(0deg); transform: scale(1); }
      100% { filter: hue-rotate(30deg); transform: scale(1.1); }
    }

    /* ===== CIRCUIT LINES ===== */
    .circuit-lines {
      position: fixed;
      inset: 0;
      z-index: 1;
      opacity: 0.4;
      pointer-events: none;
    }

    .circuit-line {
      position: absolute;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      height: 1px;
      animation: circuitFlow 4s linear infinite;
    }

    .circuit-line:nth-child(1) { top: 15%; width: 200px; left: -200px; animation-delay: 0s; }
    .circuit-line:nth-child(2) { top: 35%; width: 150px; left: -150px; animation-delay: 1s; }
    .circuit-line:nth-child(3) { top: 55%; width: 180px; left: -180px; animation-delay: 2s; }
    .circuit-line:nth-child(4) { top: 75%; width: 220px; left: -220px; animation-delay: 3s; }
    .circuit-line:nth-child(5) { top: 25%; width: 160px; right: -160px; animation-delay: 0.5s; animation-name: circuitFlowReverse; }
    .circuit-line:nth-child(6) { top: 65%; width: 190px; right: -190px; animation-delay: 2.5s; animation-name: circuitFlowReverse; }

    @keyframes circuitFlow {
      0% { transform: translateX(0); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateX(calc(100vw + 400px)); opacity: 0; }
    }

    @keyframes circuitFlowReverse {
      0% { transform: translateX(0); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateX(calc(-100vw - 400px)); opacity: 0; }
    }

    /* ===== ANIMATED GRID ===== */
    .cyber-grid {
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
      background-size: 60px 60px;
      transform-style: preserve-3d;
      perspective: 500px;
      animation: gridPerspective 20s ease-in-out infinite;
      z-index: 1;
    }

    @keyframes gridPerspective {
      0%, 100% { transform: rotateX(0deg); }
      50% { transform: rotateX(2deg); }
    }

    /* ===== FLOATING HOLOGRAPHIC SHAPES ===== */
    .holo-shape {
      position: fixed;
      border: 1px solid;
      opacity: 0.3;
      animation: holoFloat 12s ease-in-out infinite;
      z-index: 1;
    }

    .holo-1 {
      width: 100px;
      height: 100px;
      border-color: var(--accent);
      border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
      top: 10%;
      left: 5%;
      animation-delay: 0s;
    }

    .holo-2 {
      width: 60px;
      height: 60px;
      border-color: var(--primary-light);
      top: 70%;
      right: 10%;
      animation-delay: -4s;
      transform: rotate(45deg);
    }

    .holo-3 {
      width: 80px;
      height: 80px;
      border-color: var(--accent-pink);
      border-radius: 50%;
      top: 20%;
      right: 15%;
      animation-delay: -8s;
    }

    .holo-4 {
      width: 40px;
      height: 40px;
      border-color: var(--accent-green);
      bottom: 20%;
      left: 10%;
      animation-delay: -2s;
      clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
    }

    @keyframes holoFloat {
      0%, 100% { transform: translate(0, 0) rotate(0deg); opacity: 0.2; }
      25% { transform: translate(20px, -20px) rotate(90deg); opacity: 0.4; }
      50% { transform: translate(-10px, -40px) rotate(180deg); opacity: 0.3; }
      75% { transform: translate(-30px, -10px) rotate(270deg); opacity: 0.4; }
    }

    /* ===== SCAN LINE EFFECT ===== */
    .scan-line {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg,
        transparent,
        var(--accent) 20%,
        var(--primary-light) 50%,
        var(--accent) 80%,
        transparent
      );
      opacity: 0.6;
      animation: scanDown 4s linear infinite;
      z-index: 2;
      box-shadow: 0 0 20px var(--accent), 0 0 60px var(--glow-accent);
    }

    @keyframes scanDown {
      0% { top: -4px; opacity: 0; }
      5% { opacity: 0.6; }
      95% { opacity: 0.6; }
      100% { top: 100%; opacity: 0; }
    }

    /* ===== PARTICLES SYSTEM ===== */
    .particles {
      position: fixed;
      inset: 0;
      z-index: 2;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      border-radius: 50%;
      animation: particleRise 20s linear infinite;
      opacity: 0;
    }

    @keyframes particleRise {
      0% { opacity: 0; transform: translateY(100vh) scale(0); }
      5% { opacity: 1; }
      95% { opacity: 0.8; }
      100% { opacity: 0; transform: translateY(-20vh) scale(1); }
    }

    /* ===== MAIN CONTAINER ===== */
    .container {
      position: relative;
      z-index: 10;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
    }

    /* ===== GLASSMORPHIC CARD ===== */
    .card {
      background: var(--bg-card);
      backdrop-filter: blur(24px) saturate(180%);
      -webkit-backdrop-filter: blur(24px) saturate(180%);
      border: 1px solid var(--glass-border);
      border-radius: 28px;
      padding: 52px;
      max-width: 560px;
      width: 100%;
      position: relative;
      overflow: hidden;
      animation: cardReveal 1s cubic-bezier(0.16, 1, 0.3, 1);
    }

    @keyframes cardReveal {
      from {
        opacity: 0;
        transform: translateY(60px) scale(0.9);
        filter: blur(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
      }
    }

    /* Animated gradient border */
    .card::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 28px;
      padding: 2px;
      background: linear-gradient(
        135deg,
        var(--primary),
        var(--accent),
        var(--accent-pink),
        var(--accent-green),
        var(--primary)
      );
      background-size: 300% 300%;
      animation: borderRotate 6s linear infinite;
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
    }

    @keyframes borderRotate {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Card inner glow */
    .card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    }

    /* ===== STATUS INDICATOR ===== */
    .status-row {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 28px;
    }

    .status-dot {
      width: 12px;
      height: 12px;
      background: var(--accent-green);
      border-radius: 50%;
      animation: statusPulse 2s ease-in-out infinite;
      box-shadow: 0 0 20px var(--accent-green);
    }

    @keyframes statusPulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.2); opacity: 0.7; }
    }

    .status-text {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: var(--accent-green);
      text-transform: uppercase;
      letter-spacing: 0.15em;
    }

    /* ===== TYPING EFFECT TITLE ===== */
    .title-wrapper {
      margin-bottom: 16px;
      overflow: hidden;
    }

    .title {
      font-size: 2.4rem;
      font-weight: 800;
      background: linear-gradient(
        135deg,
        var(--text) 0%,
        var(--primary-light) 25%,
        var(--accent) 50%,
        var(--accent-pink) 75%,
        var(--text) 100%
      );
      background-size: 200% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -0.03em;
      animation: textShine 4s linear infinite;
    }

    @keyframes textShine {
      0% { background-position: 0% center; }
      100% { background-position: 200% center; }
    }

    .subtitle {
      color: var(--text-muted);
      font-size: 1.05rem;
      line-height: 1.7;
      margin-bottom: 32px;
    }

    .subtitle .highlight {
      color: var(--accent);
      font-weight: 500;
    }

    /* ===== SECURITY CHIPS ===== */
    .security-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 32px;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      background: rgba(99, 102, 241, 0.1);
      border: 1px solid rgba(99, 102, 241, 0.2);
      border-radius: 100px;
      font-size: 0.78rem;
      color: var(--primary-light);
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .chip:hover {
      background: rgba(99, 102, 241, 0.2);
      transform: translateY(-2px);
    }

    .chip svg {
      width: 14px;
      height: 14px;
    }

    .chip-green {
      background: rgba(16, 185, 129, 0.1);
      border-color: rgba(16, 185, 129, 0.2);
      color: var(--accent-green);
    }

    .chip-cyan {
      background: rgba(34, 211, 238, 0.1);
      border-color: rgba(34, 211, 238, 0.2);
      color: var(--accent);
    }

    /* ===== DOWNLOAD BUTTON ===== */
    .btn-download {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
      width: 100%;
      padding: 20px 32px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      font-family: inherit;
      font-size: 1.1rem;
      font-weight: 700;
      border: none;
      border-radius: 16px;
      cursor: pointer;
      text-decoration: none;
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: 0 10px 40px -10px var(--glow-primary);
    }

    .btn-download::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(
        135deg,
        rgba(255,255,255,0.2) 0%,
        transparent 50%,
        rgba(255,255,255,0.1) 100%
      );
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .btn-download::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }

    .btn-download:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 20px 60px -15px var(--glow-primary), 0 0 40px -10px var(--primary);
    }

    .btn-download:hover::before {
      opacity: 1;
    }

    .btn-download:hover::after {
      width: 300px;
      height: 300px;
    }

    .btn-download:active {
      transform: translateY(-2px) scale(1);
    }

    .btn-download svg {
      width: 24px;
      height: 24px;
      position: relative;
      z-index: 1;
      transition: transform 0.3s ease;
    }

    .btn-download:hover svg {
      animation: downloadArrow 0.8s ease infinite;
    }

    @keyframes downloadArrow {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(5px); }
    }

    .btn-download span {
      position: relative;
      z-index: 1;
    }

    /* ===== DOWNLOAD BUTTONS CONTAINER ===== */
    .download-buttons {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .btn-letter {
      background: linear-gradient(135deg, var(--accent), #06b6d4);
      box-shadow: 0 10px 40px -10px var(--glow-accent);
    }

    .btn-letter:hover {
      box-shadow: 0 20px 60px -15px var(--glow-accent), 0 0 40px -10px var(--accent);
    }

    /* ===== ADMIN BUTTON ===== */
    .btn-admin {
      display: none;
      align-items: center;
      justify-content: center;
      gap: 10px;
      width: 100%;
      padding: 16px 24px;
      margin-top: 14px;
      background: linear-gradient(135deg, #ec4899, #f43f5e);
      color: white;
      font-family: inherit;
      font-size: 0.95rem;
      font-weight: 600;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      text-decoration: none;
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: 0 8px 30px -8px rgba(236, 72, 153, 0.4);
    }

    .btn-admin.visible {
      display: inline-flex;
    }

    .btn-admin:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px -10px rgba(236, 72, 153, 0.5);
    }

    .btn-admin svg {
      width: 18px;
      height: 18px;
    }

    /* ===== TERMINAL STYLE CONTACT ===== */
    .terminal-contact {
      margin-top: 32px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      font-family: 'JetBrains Mono', monospace;
    }

    .terminal-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .terminal-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .terminal-dot.red { background: #ff5f56; }
    .terminal-dot.yellow { background: #ffbd2e; }
    .terminal-dot.green { background: #27ca40; }

    .terminal-title {
      margin-left: 8px;
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .terminal-line {
      display: flex;
      align-items: center;
      font-size: 0.85rem;
    }

    .terminal-prompt {
      color: var(--accent-green);
      margin-right: 8px;
    }

    .terminal-cmd {
      color: var(--accent);
    }

    .terminal-link {
      color: var(--primary-light);
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .terminal-link:hover {
      color: var(--accent);
    }

    /* ===== CODE DECORATIONS ===== */
    .code-tag {
      position: absolute;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.65rem;
      color: rgba(99, 102, 241, 0.25);
      pointer-events: none;
    }

    .code-top { top: 18px; left: 24px; }
    .code-bottom { bottom: 18px; right: 24px; }

    /* ===== HEX PATTERN ===== */
    .hex-pattern {
      position: absolute;
      bottom: -30px;
      right: -30px;
      width: 150px;
      height: 150px;
      opacity: 0.03;
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0L60 17.3v34.6L30 60 0 51.9V17.3L30 0z' fill='none' stroke='%23fff' stroke-width='1'/%3E%3C/svg%3E");
      background-size: 30px 30px;
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 580px) {
      .card {
        padding: 36px 24px;
        margin: 10px;
        border-radius: 20px;
      }

      .title {
        font-size: 1.8rem;
      }

      .subtitle {
        font-size: 0.95rem;
      }

      .security-chips {
        gap: 8px;
      }

      .chip {
        padding: 6px 12px;
        font-size: 0.72rem;
      }

      .btn-download {
        padding: 18px 24px;
        font-size: 1rem;
      }

      .holo-shape {
        display: none;
      }
    }

    /* ===== REDUCED MOTION ===== */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
  <script>
    fetch('/.netlify/functions/api/auth-check', { credentials: 'include' })
      .then(r => r.json())
      .then(d => {
        if (d.authenticated) {
          document.body.style.visibility = 'visible';
        } else {
          window.location.replace('/');
        }
      })
      .catch(() => window.location.replace('/'));
  </script>
</head>
<body>
  <!-- Background Effects -->
  <div class="mesh-gradient"></div>
  <div class="cyber-grid"></div>

  <!-- Circuit Lines -->
  <div class="circuit-lines">
    <div class="circuit-line"></div>
    <div class="circuit-line"></div>
    <div class="circuit-line"></div>
    <div class="circuit-line"></div>
    <div class="circuit-line"></div>
    <div class="circuit-line"></div>
  </div>

  <!-- Holographic Shapes -->
  <div class="holo-shape holo-1"></div>
  <div class="holo-shape holo-2"></div>
  <div class="holo-shape holo-3"></div>
  <div class="holo-shape holo-4"></div>

  <!-- Scan Line -->
  <div class="scan-line"></div>

  <!-- Particles -->
  <div class="particles" id="particles"></div>

  <!-- Main Content -->
  <div class="container">
    <div class="card">
      <!-- Decorations -->
      <span class="code-tag code-top">&lt;secure_session/&gt;</span>
      <span class="code-tag code-bottom">&lt;/authenticated&gt;</span>
      <div class="hex-pattern"></div>

      <!-- Status -->
      <div class="status-row">
        <div class="status-dot"></div>
        <span class="status-text">Session Active</span>
      </div>

      <!-- Title -->
      <div class="title-wrapper">
        <h1 class="title">Acces Autorise</h1>
      </div>
      <p class="subtitle">Authentification <span class="highlight">Google OAuth 2.0</span> validee avec succes. Ton acces au CV complet est maintenant debloque.</p>

      <!-- Security Chips -->
      <div class="security-chips">
        <div class="chip chip-green">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
            <polyline points="22 4 12 14.01 9 11.01"/>
          </svg>
          Verifie
        </div>
        <div class="chip chip-cyan">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
          </svg>
          Chiffre E2E
        </div>
        <div class="chip">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
          </svg>
          Securise
        </div>
      </div>

      <!-- Download Buttons -->
      <div class="download-buttons">
        <a id="downloadCVDownload" class="btn-download" href="/download-cv/file">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
          <span>Telecharger le CV</span>
        </a>

        <a id="downloadLetterDownload" class="btn-download btn-letter" href="/download-letter/file">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
            <line x1="16" y1="13" x2="8" y2="13"/>
            <line x1="16" y1="17" x2="8" y2="17"/>
            <polyline points="10 9 9 9 8 9"/>
          </svg>
          <span>Telecharger la Lettre de Motivation</span>
        </a>
      </div>

      <!-- Admin Button -->
      <a id="admin-btn" class="btn-admin" href="/admin.html">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z"/>
        </svg>
        Panel Admin
      </a>

      <!-- Terminal Contact -->
      <div class="terminal-contact">
        <div class="terminal-header">
          <div class="terminal-dot red"></div>
          <div class="terminal-dot yellow"></div>
          <div class="terminal-dot green"></div>
          <span class="terminal-title">contact.sh</span>
        </div>
        <div class="terminal-line">
          <span class="terminal-prompt">$</span>
          <span class="terminal-cmd">mail&nbsp;</span>
          <a class="terminal-link" href="mailto:viktormorel@mailo.com">viktormorel@mailo.com</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Advanced Particle System
    function createParticles() {
      const container = document.getElementById('particles');
      const particleCount = 30;
      const colors = ['#6366f1', '#22d3ee', '#10b981', '#f472b6', '#818cf8'];

      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = (15 + Math.random() * 15) + 's';
        particle.style.background = colors[Math.floor(Math.random() * colors.length)];

        const size = 2 + Math.random() * 4;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        particle.style.boxShadow = `0 0 ${size * 2}px currentColor`;

        container.appendChild(particle);
      }
    }

    createParticles();

    // Download handlers
    document.addEventListener('DOMContentLoaded', function() {
      // CV download
      const btnCV = document.getElementById('downloadCVDownload');
      if (btnCV) {
        btnCV.addEventListener('click', function(e) {
          e.preventDefault();
          fetch('/.netlify/functions/api/user-info', { credentials: 'include' })
            .then(res => {
              if (!res.ok) throw new Error();
              return res.json();
            })
            .then(data => {
              if (data && data.email) {
                window.location.href = '/download-cv/file';
              } else {
                window.location.href = '/.netlify/functions/api/auth/google';
              }
            })
            .catch(() => {
              window.location.href = '/.netlify/functions/api/auth/google';
            });
        });
      }

      // Letter download
      const btnLetter = document.getElementById('downloadLetterDownload');
      if (btnLetter) {
        btnLetter.addEventListener('click', function(e) {
          e.preventDefault();
          fetch('/.netlify/functions/api/user-info', { credentials: 'include' })
            .then(res => {
              if (!res.ok) throw new Error();
              return res.json();
            })
            .then(data => {
              if (data && data.email) {
                window.location.href = '/download-letter/file';
              } else {
                window.location.href = '/.netlify/functions/api/auth/google';
              }
            })
            .catch(() => {
              window.location.href = '/.netlify/functions/api/auth/google';
            });
        });
      }
    });
  </script>
</body>
</html>
